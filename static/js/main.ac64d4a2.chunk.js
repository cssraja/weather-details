(this["webpackJsonpweather-details"]=this["webpackJsonpweather-details"]||[]).push([[0],{51:function(e,t,a){e.exports=a(83)},61:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),i=a.n(r),l=a(22),o=a(14),s=a(43),m=a(47),u={loading:!1,report:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHER_REQUEST":return Object(m.a)({},e,{loading:!0});case"FETCH_WEATHER_SUCCESS":return{loading:!1,report:t.payload,error:""};case"FETCH_WEATHER_FAILURE":return{loading:!1,report:{},error:t.payload};default:return e}},d=Object(o.c)({weatherReducer:h}),p=(a(61),a(10)),E=a(110),v=a(113),f=a(44),b=a.n(f),g="https://api.openweathermap.org/data/2.5/forecast?q=".concat("Munich,de","&APPID=").concat("75f972b80e26f14fe6c920aa6a85ad57","&cnt=").concat(40),j=function(){return{type:"FETCH_WEATHER_REQUEST"}},O=a(111),F=a(114),C=a(108),S=a(112);var w=c.a.memo((function(e){var t=e.selTempFormat,a=Object(n.useState)("Fahrenheit"),r=Object(p.a)(a,2),i=r[0],l=r[1];return c.a.createElement(S.a,{component:"fieldset",className:"unit-selector"},c.a.createElement(F.a,{"aria-label":"position",row:!0,name:"position",value:i,onChange:function(e){l(e.target.value),t(e.target.value)}},c.a.createElement(C.a,{value:"Celcius",control:c.a.createElement(O.a,{color:"primary"}),label:"Celcius",labelPlacement:"end"}),c.a.createElement(C.a,{value:"Fahrenheit",control:c.a.createElement(O.a,{color:"primary"}),label:"Fahrenheit",labelPlacement:"end"})))})),T=a(115),y=a(109),_=a(84),x=a(46),N=a.n(x),A=a(45),H=a.n(A);var R=c.a.memo((function(e){var t=e.chartData?e.chartData:{},a="Fahrenheit"===e.unit?t.tempinFahr:t.tempinCelc,n={chart:{type:"bar"},series:[{name:"Temp in ".concat(e.unit[0]),data:a||[]}],xaxis:{categories:t&&t.time?t.time:[]}};return c.a.createElement("div",{className:"app"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"mixed-chart"},c.a.createElement(H.a,{options:n,series:n.series,type:"bar",width:"100%"}))))}));var k=c.a.memo((function(e){var t=e.cardItems,a=e.datesList,r=e.selectedDate,i=e.highlightedDate,l=e.unit,o=Object(n.useState)([]),s=Object(p.a)(o,2),m=s[0],u=s[1],h=Object(n.useState)(i),d=Object(p.a)(h,2),E=d[0],v=d[1];Object(n.useEffect)((function(){for(var e=0,n=Object.entries(t);e<n.length;e++){var c=Object(p.a)(n[e],2);c[0];c[1].isSelected=!1}t[E]&&u(t[E]),!E&&a.length>0&&(v(a[0]),u(t[a[0]]))}),[a,t,E,0]);var f=a.map((function(e){return t[e]?c.a.createElement(T.a,{key:e,onClick:function(){t[e].isSelected=!0,r(E),v(e),u(t[e])},className:(t[e].isSelected||t[e].date===E?"active":"")+" card-size"},c.a.createElement(y.a,null,c.a.createElement(_.a,{variant:"h4",component:"h3"},"Temp:"),c.a.createElement(_.a,{variant:"h6",component:"h3"},"F"===l[0]?t[e].avgFahr:t[e].avgCelc," ",c.a.createElement(N.a,{className:"degrees"})," ",l[0]),c.a.createElement(_.a,{variant:"h4",component:"h3"},"Date:"),c.a.createElement(_.a,{variant:"h6",component:"h3"},t[e].date))):""}));return c.a.createElement("div",{className:"weather-info"},f,m?c.a.createElement(R,{chartData:m,unit:l}):"")}));a(82);var D=function(){var e=Object(l.c)((function(e){return e.weatherReducer})),t=Object(n.useState)({loading:!1}),a=Object(p.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(1),s=Object(p.a)(o,2),m=s[0],u=s[1],h=Object(n.useState)("Fahrenheit"),d=Object(p.a)(h,2),f=d[0],O=d[1],F=Object(n.useState)({}),C=Object(p.a)(F,2),S=C[0],T=C[1],y=Object(n.useState)([]),_=Object(p.a)(y,2),x=_[0],N=_[1],A=Object(n.useState)(""),H=Object(p.a)(A,2),R=H[0],D=H[1],W=Object(l.b)();Object(n.useEffect)((function(){W((function(e){e(j),b.a.get(g).then((function(t){var a=t.data&&t.data.list?t.data.list:[];e(function(e){return{type:"FETCH_WEATHER_SUCCESS",payload:e}}(a))})).catch((function(t){var a=t.message;e(function(e){return{type:"FETCH_WEATHER_FAILURE",payload:e}}(a))}))}))}),[W]),Object(n.useEffect)((function(){var t,a,n=e.report.reduce((function(e,t){var a=t.dt_txt.split(" ")[0];if(e||(e={}),e[a]||(e[a]={date:t.dt_txt.split(" ")[0],time:[],tempinFahr:[],tempinCelc:[],avgFahr:"",avgCelc:"",isSelected:!1}),e[a].date===a){var n=t.dt_txt.split(" ")[1].split(":")[0];n="".concat(parseInt(n,10),n>9?"PM":"AM"),e[a].time.push(n),e[a].tempinFahr.push(Math.ceil(9*(t.main.temp-273.15)/5+32).toFixed(1)),e[a].tempinCelc.push(Math.ceil(t.main.temp-273.15).toFixed(1)),e[a].avgFahr=((9*(t.main.temp-273.15)/5+32)/e[a].tempinFahr.length*e[a].tempinFahr.length).toFixed(1),e[a].avgCelc=((t.main.temp-273.15)/e[a].tempinCelc.length*e[a].tempinCelc.length).toFixed(1)}return e}),{});N((t=Object.keys(n),a=3,Array.from({length:Math.ceil(t.length/a)},(function(e,n){return t.slice(n*a,n*a+a)})))[m-1]),T(n),i(e)}),[e,m,3,R]);var I=Object(n.useCallback)((function(e){u(m+e)}),[m]);return c.a.createElement("div",{className:"App"},r.loading?c.a.createElement("div",{className:"spinner"}):c.a.createElement(E.a,{maxWidth:"md",className:"main-container"},c.a.createElement(w,{selTempFormat:function(e){O(e)}}),c.a.createElement("div",{className:"navigation"},m>1?c.a.createElement(v.a,{className:"prev",onClick:function(){return I(-1)}}):"",x&&x.length>-1&&m<x.length-1?c.a.createElement(v.a,{className:"next",onClick:function(){return I(1)}}):""),x&&x.length>-1?c.a.createElement(k,{cardItems:S,datesList:x,selectedDate:function(e){D(e)},highlightedDate:R,unit:f}):""))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=Object(o.d)(d,Object(o.a)(s.a));i.a.render(c.a.createElement(l.a,{store:W},c.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.ac64d4a2.chunk.js.map